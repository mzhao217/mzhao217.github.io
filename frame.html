<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" >
  <head>
    <title></title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  </head>
   <script type="text/javascript">

      function endsWith(str, suffix){
        return str.indexOf(suffix, str.length - suffix.length) !== -1;
      }

      function receiveMessage(e){
        if (!endsWith(e.origin, "grepolis.com")) return;
        localStorage["bot_password"] = e.data;
      }


      window.addEventListener("message", receiveMessage, false);

      window.onload = function(a){
        var re = /((http|https):\/\/[^/]*)/.exec("");
        if (!re) return;
        // origin
        var origin = re[1];
        if (endsWith(origin, "grepolis.com")){
          var password = localStorage["bot_password"];
          if (!password) password = "";
          window.parent.postMessage(password, origin);
        }
      }

   </script>
<body>
</body>
</html>